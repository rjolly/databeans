Software requirements
---------------------

Java 1.4 or higher
Apache Ant (I used the one bundled in netbeans 6.0)
BeanShell 2.0b4 (included)

One can use beanshell to run databeans admin scripts, and to issue console commands, see below "Running the admin user interface".

As of databeans 2.0, this "getting_started" tour is entirely based on ant tasks so as to be independant of the underlying system. Of course they can be run graphically from your preferred IDE.

Running a bare server
---------------------

Go to the installation directory. Run the RMI registry:
  ant registry

Take a new window. Run the class file server (needed for RMI):
  ant class_file_server

Take another new window. Create a heapspace:
  ant mkheapspace

This last one simply creates an empty file of 256Kb ; it is equivalent to the unix command "dd if=/dev/zero of=heapspace count=512".

Run the server:
  ant

The output should read:

store bound in registry

That's all. You may now connect to a bare databeans instance (i.e. without business classes) suited to get acquainted with admin tasks, but not much more. See below "Running the admin user interface" for that.

Then, stop the server with a simple CTRL-C (or IDE equivalent) and likewise for the class file server. We will now have a look on how to deploy and run a more interesting sample application.

Deploying and running the sample
--------------------------------

Prepare the sample:
  ant setup_sample

This just makes a copy of the databeans libraries in the sample client and server directories. These are now standalone and may be deployed wherever they need, possibly on different machines.

Go to the server directory. Check the RMI registry (see beginning). Run the class file server:
  ant class_file_server

Take another window. Create the heapspace:
  ant mkheapspace

Build and run the server:
  ant

Take another window. Go to the client directory. Build and run the sample client:
  ant

The output should read:

[[Clark Research New York Manager $2,000.00 Clark], [Miller Research New York Clerk $1,000.00 Clark]]

We've printed the content of the database the sample was intended to create. If you've made it through here, congratulations, you will now be able to play with the sample and later to create a new one from scratch and build your own databeans application.

We may now shutdown the server. Type CTRL-C in the server window. To re-enter the running cycle (for instance after some changes to the sample source files), type again:
  ant

And likewise for the client:
  ant

Running the admin user interface
--------------------------------

The admin user interface is run from the installation directory:
  ant admin

Among others it gives access to a beanshell console ("console" tab) which allows to issue direct commands. The following statements will just get the connection, commit the transaction, and exit. Feel free to try anything in between (after perhaps you have read the manual !)

import persistence.*;
conn=Connections.getConnection("//localhost/store");
conn.commit();
exit();

Reading the manual
------------------

http://databeans.sourceforge.net/manual.html
